<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @media (max-width: 1199px) {
            .home__project-media {
                filter: blur(0px) !important;
                transform: scale(1) !important;
            }
            .home__mobile-project-title{
                display: block !important;
            }
            .scrollbar {
                display: none !important;
            }
            .home__project-media {
                display: flex;
                flex-direction: column;
                justify-content: center;
            }
            .home__project-wrapper {
                margin: 0px 0px 15px 65px !important;
                padding-right: 65px !important;
                text-align: left;
                width: calc(100% - 120px)!important;
                height: auto;
            }
            .home__project-wrapper img{
                width: 100% !important;
                height: unset !important;
                object-fit: contain;
            }
            .firstProj {
                margin-top: 100px !important;
            }
            .home__mobile-project-title {
                margin-top: 5px;
                font-size: 24px;
                text-align: left;
            }
        }

        @media (max-width: 810px) {
            #exposed_menu {
                background-color: transparent !important;
            }
            #side-menu.translate-x-0 {
                width: 100vw;
                z-index:60;
            }
            body.menu-open .main_Logo,
            body.menu-open nav {
                opacity: 0;
                transition: opacity 0.3s ease-in-out;
            }
            .main_Logo,
            nav {
                transition: opacity 0.3s ease-in-out;
            }
            .content {
                left: -10%;
                transform: translateX(18%);
                text-align: center;
                max-width: 100%;
            }
            #quote {
                font-size: 18px;
            }
            .home__project-media {
                display: flex;
                flex-direction: column;
                justify-content: center;
            }
            .home__project-wrapper {
                margin: 0px 0px 15px 65px !important;
                padding-right: 10px !important;
                text-align: left;
                width: calc(100% - 120px)!important;
                height: auto;
            }
            .home__project-wrapper img{
                width: 100% !important;
                height: unset !important;
                object-fit: contain;
            }
            .firstProj {
                margin-top: 100px !important;
            }
            .home__mobile-project-title {
                margin-top: 5px;
                font-size: 24px;
                text-align: left;
            }
            #menu-toggle {
                z-index:70 !important;
                margin-top: 18px;
                align-items: center;
                top: 50%;
            }
            .navText {
                font-size: 16px;
                background-color: white;
                padding-top: 32.5px;
                padding-bottom: 32.5px;
                gap: 10vw;
                max-width: 80vw;
            }
            nav a {
                position: relative;
                text-decoration: none;
                color: #6b6b6b !important;
            }
            nav a::after {
                content: '';
                position: absolute;
                width: 0;
                height: 1px;
                bottom: -2px;
                left: 0;
                background-color: #6b6b6b;
                transition: width 0.3s ease;
            }
            nav a:hover::after {
                width: 100%;
            }
        }
        
        /* Custom CSS for the transition effect */
        *{
            cursor: none;
        }
          a, button, span, div, input, label, select, textarea {
          cursor: none !important;
        }
        .inner-cursor {
            position: fixed;
            left: 10px;
            width: 10px;
            height: 10px;
            transform: translate(-50%, -50%);
            background-color: black;
            border-radius: 50%;
            pointer-events: none;
            transition: width 0.5s, height 0.5s;
        }
        #side-menu {
            z-index: 101;
        }
        .inner-cursor.grow {
            width: 25px;
            height: 25px;
            transition: width 0.3s, height 0.3s;
        }
        @font-face {
            font-family: 'UncutSans-Bold';
            src: url('fonts/UncutSans-Bold.otf') format('opentype');
        }
        @font-face {
        font-family: 'UncutSans-BoldItalic';
        src: url('fonts/UncutSans-BoldItalic.otf') format('opentype');
        }
        @font-face {
        font-family: 'UncutSans-Book';
        src: url('fonts/UncutSans-Book.otf') format('opentype');
        }
        @font-face {
        font-family: 'UncutSans-BookItalic';
        src: url('fonts/UncutSans-BookItalic.otf') format('opentype');
        }
        @font-face {
        font-family: 'UncutSans-Light';
        src: url('fonts/UncutSans-Light.otf') format('opentype');
        }
        @font-face {
        font-family: 'UncutSans-LightItalic';
        src: url('fonts/UncutSans-LightItalic.otf') format('opentype');
        }
        @font-face {
        font-family: 'UncutSans-Medium';
        src: url('fonts/UncutSans-Medium.otf') format('opentype');
        }
        @font-face {
        font-family: 'UncutSans-MediumItalic';
        src: url('fonts/UncutSans-MediumItalic.otf') format('opentype');
        }
        @font-face {
        font-family: 'UncutSans-Regular';
        src: url('fonts/UncutSans-Regular.otf') format('opentype');
        }
        @font-face {
        font-family: 'UncutSans-RegularItalic';
        src: url('fonts/UncutSans-RegularItalic.otf') format('opentype');
        }
        @font-face {
        font-family: 'UncutSans-Semibold';
        src: url('fonts/UncutSans-Semibold.otf') format('opentype');
        }
        @font-face {
        font-family: 'UncutSans-SemiboldItalic';
        src: url('fonts/UncutSans-SemiboldItalic.otf') format('opentype');
        }
        body {
            font-family: UncutSans-Regular;
            background-color: white;
        }
        .contentBody {
            opacity: 0;
            transition: opacity 1.5s ease;
        }
        .contentBody.loaded {
            opacity: 1;
            transition: opacity 1.5s ease;
        }
        .contentBody.fade-out {
            opacity: 0;
            transition: opacity 1s ease;
        }
        #typo_logo {
            margin-top: 4px;
            font-family: UncutSans-Semibold;
            font-size: 26px;
        }

        #menu_text{
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: calc(100vh - 120px); /* Account for header and padding */
        }
        .main_Logo {
            width: 60px;
            mix-blend-mode: difference;
        }
        .doubleText {
            display:flex;
            flex-direction:row;
            justify-content: space-between;
            font-size:16px;
        }
        .home__project-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: center;
            margin: 90px 0 90px 90px;
            padding-right: 100px;
            text-align: center;
            width: calc(100% - 120px);
        }
        .home__project-media {
            max-height: unset;
            height: auto !important;
            overflow: hidden;
            position: relative;
            width: 100%;
            will-change: filter, transform;
            cursor: pointer;
        }
        .project-detail-view {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: white;
            z-index: 100;
            overflow-x: auto;
            overflow-y: hidden;
            white-space: nowrap;
        }
        .project-detail-view.active {
            display: block;
        }
        .project-detail-slide {
            display: inline-block;
            width: 100vw;
            height: 100vh;
            vertical-align: top;
            white-space: normal;
            padding: 20px;
            box-sizing: border-box;
        }
        .close-detail-view {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 101;
            cursor: pointer;
            font-size: 24px;
        }
        .home__project-media.visible {
            filter: blur(0px);
            transform: scale(1);
        }
        .home__project-media img {
            height: 80vh;
            width: auto;
            object-fit: contain;
            margin: 0 auto;
        }
        .home__mobile-project-title{
            display: none;
        }
        .navText {
            font-size: 16px;
            background-color: white;
            padding-top: 32.5px;
            padding-bottom: 32.5px;
            gap: 10vw;
            max-width: 100vw;
        }
        nav a {
            position: relative;
            text-decoration: none;
            color: #6b6b6b !important;
        }
        nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 1px;
            bottom: -2px;
            left: 0;
            background-color: #6b6b6b;
            transition: width 0.3s ease;
        }
        nav a:hover::after {
            width: 100%;
        }
        #menu-toggle {
            z-index:70 !important;
            margin-top: 18px;
        }
        #exposed_menu {
            background-color: #F7F4ED;
            position: fixed;
            top: 0;
            right: 0;
            width: 60px;
            height: 100%;
            z-index: 101;
            display: flex;
            align-items: flex-start;
            justify-content: flex-end;
            padding-right: 1rem;
        }
        .sideBar_open {
            padding:12px 24px 24px;
        }
        .scrollbar {
            position: fixed;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            height: 60vh;
            width: 2px;
            background-color: rgba(0,0,0,0.1);
            z-index: 10;
        }
        .scrollbar__progress {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 0%;
            background-color: black;
            transition: height 0.2s ease-out;
        }
        .scrollbar__index {
            position: absolute;
            left: 10px;
            font-family: UncutSans-Regular;
            color: black;
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 4px;
            transform: translateY(-50%);
            top: 50%;
        }
        .scrollbar__index-number {
            font-size: 16px;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .scrollbar__index-title {
            font-size: 16px;
            white-space: nowrap;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .scrollbar__index-year {
            font-size: 16px;
            white-space: nowrap;
            transition: opacity 0.3s ease, transform 0.3s ease;
            margin-left: 0px;
        }
        .scrollbar__index-year.fade-out {
            opacity: 0;
            transform: translateY(10px);
        }
        .scrollbar__index-year.fade-in {
            opacity: 1;
            transform: translateY(0);
        }
        .scrollbar__index-number.fade-out,
        .scrollbar__index-title.fade-out,
        .scrollbar__index-comma.fade-out {
            opacity: 0;
            transform: translateY(10px);
        }
        .scrollbar__index-number.fade-in,
        .scrollbar__index-title.fade-in,
        .scrollbar__index-comma.fade-in {
            opacity: 1;
            transform: translateY(0);
        }
        .scrollbar__index-separator {
            font-size: 16px;
        }
        .exploreMore {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 40vh;
            margin-bottom: 40vh;
        }
        .exButton {
            border: 1px solid black;
            font-size: 3vh;
            border-radius: 50px;
            padding:11.5px 30px;
            margin: 60px;
            background-color: white;
            color: black;
            transition: all 0.3s ease;
        }
        .exButton:hover {
            background-color: black;
            color: white;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        }
        @media (max-width: 650px) {
            nav.navText {
                display: none !important;
            }

            #nav-hamburger-container {
                display: block !important;
            }

            #mobile-nav-menu a {
                font-size: 16px;
                color: #6b6b6b !important;
                text-decoration: none;
                padding: 4px 0;
                border-bottom: 1px solid #e0e0e0;
            }

            #mobile-nav-menu a:last-child {
                border-bottom: none;
            }
        }
    </style>
</head>
<body>
    <div id="side-menu" class="fixed top-0 right-0 h-full w-56 bg-[#F7F4ED] text-gray-800 transform translate-x-full transition-transform duration-500 ease-in-out z-40">
        <div class="sideBar_open h-full flex flex-col">
            <h2 class="mb-6" id="typo_logo">kyle aguas.</h2>
            <ul class="space-y-2 flex-grow flex flex-col justify-center" id="menu_text">
                <li><a href="index.html" class="block hover:pl-4 transition-all duration-300">Home</a></li>
                <li><a href="4_About.html" class="block hover:pl-4 transition-all duration-300">About</a></li>
                <li><a href="2_Projects.html" class="block hover:pl-4 transition-all duration-300">Projects</a></li>
                <li><a href="#" class="block hover:pl-4 transition-all duration-300">Interests</a></li>
            </ul>
        </div>
    </div>
    <div class="fixed top-0 right-0 w-[60px] h-full z-50 flex items-center justify-end pr-4" id="exposed_menu">
        <div class="inner-cursor"></div>
        <span id="menu-toggle" class="relative w-8 h-8 flex items-center justify-end">
            <span class="absolute w-full h-1 bg-black transition-all duration-300 transform" id="bar1" style="top: 25%;"></span>
            <span class="absolute w-full h-1 bg-black transition-all duration-300 transform" id="bar2" style="top: 75%;"></span>
        </span>
    </div>
    <div class="contentBody">
        <div class="scrollbar">
            <div class="scrollbar__progress"></div>
            <div class="scrollbar__index">
                <span class="scrollbar__index-number">1</span><span class="scrollbar__index-separator">/5</span><span class="scrollbar__index-title">GalleryHaus</span><span class="scrollbar__index-comma">,</span><span class="scrollbar__index-year">2025</span>
            </div>
        </div>
        <nav class="fixed top-0 left-1/2 transform -translate-x-1/2 flex z-40 navText justify-center w-full">
            <a href="#" class="text-darkgray">SCHOOL</a>
            <a href="#" class="text-darkgray">COMPETITIONS</a>
            <a href="#" class="text-darkgray">WORK</a>
            <a href="#" class="text-darkgray">ARCHIVE</a>
        </nav>
        <!-- New Mobile Hamburger for navText -->
        <div class="fixed top-4 right-4 z-50 sm:hidden block" id="nav-hamburger-container">
            <button id="nav-hamburger" class="w-8 h-8 flex flex-col justify-between items-center">
                <span class="w-full h-1 bg-black transition-all duration-300"></span>
                <span class="w-full h-1 bg-black transition-all duration-300"></span>
                <span class="w-full h-1 bg-black transition-all duration-300"></span>
            </button>
        </div>

        <!-- Mobile nav menu -->
        <div id="mobile-nav-menu" class="hidden flex-col absolute top-14 right-0 bg-white shadow-lg z-50 w-full sm:hidden transition-all duration-300 transform origin-top scale-y-0 opacity-0">
            <a href="#" class="block text-darkgray">SCHOOL</a>
            <a href="#" class="block text-darkgray">COMPETITIONS</a>
            <a href="#" class="block text-darkgray">WORK</a>
            <a href="#" class="block text-darkgray">ARCHIVE</a>
        </div>

        <div class="fixed top-4 left-4 z-50" id="logo_cont">
            <img src="assets/Logo_v1.svg" alt="Logo" class="main_Logo">
        </div>
        <a href="index.html" class="fixed top-20 left-4 z-50">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="24" viewBox="0 0  24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="flat" stroke-linejoin="flat">
                <line id="mainLine" class="mainLine" x1="24" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
        </a>

        <section class="home__regular-view-wrapper undefined">
            <div class="home__project-wrapper firstProj">
                <a class="home__project-media" href="3_GalleryHaus.html">
                    <img src="assets/1.jpg" alt="GalleryHaus">
                    <div class="home__mobile-project-title">
                        <span class="home__mobile-year">2025</span>
                        <span class="home__mobile-title">Semester 1</span>
                        <span class="home__project-title">GalleryHaus</span>
                        <span class="home__category">(University)</span>
                    </div>
                </a>
            </div>
            <div class="home__project-wrapper ">
                <a class="home__project-media">
                    <img src="assets/3.jpg" alt="Light Filter House">
                    <div class="home__mobile-project-title">
                        <span class="home__mobile-year">2025</span>
                        <span class="home__mobile-title">Semester 1</span>
                        <span class="home__project-title">Light Filter House</span>
                        <span class="home__category">(University)</span>
                    </div>
                </a>
            </div>
            <div class="home__project-wrapper ">
                <a class="home__project-media">
                    <img src="assets/4.jpg" alt="Novus">
                    <div class="home__mobile-project-title">
                        <span class="home__mobile-year">2021</span>
                        <span class="home__mobile-title">Final Year Project</span>
                        <span class="home__project-title">Novus</span>
                        <span class="home__category">(Polytechnic)</span>
                    </div>
                </a>
            </div>
            <div class="home__project-wrapper ">
                <a class="home__project-media">
                    <img src="assets/5.jpg" alt="Social Weaver">
                    <div class="home__mobile-project-title">
                        <span class="home__mobile-year">2021</span>
                        <span class="home__mobile-title">Project Shea</span>
                        <span class="home__project-title">Social Weaver</span>
                        <span class="home__category">(Competition)</span>
                    </div>
                </a>
            </div>
            <div class="home__project-wrapper ">
                <a class="home__project-media">
                    <img src="assets/6.jpg" alt="TUBE 8x8x300m">
                    <div class="home__mobile-project-title">
                        <span class="home__mobile-year">2020 </span>
                        <span class="home__mobile-title">TUBE 8x8x300</span>
                        <span class="home__project-title">Tunnel of Youth</span>
                        <span class="home__category">(Competition)</span>
                    </div>
                </a>
            </div>
        </section>
        <div class="exploreMore">
            <button class="exButton" >Explore more work in the Archive</button>
        </div>
    </div>
    <script>
        let innerCursor = document.querySelector('.inner-cursor');
        
        document.addEventListener('mousemove', moveCursor);

        function moveCursor(e){
            let x = e.clientX;
            let y = e.clientY;
        
            innerCursor.style.left= `${x}px`
            innerCursor.style.top= `${y}px`
        }

        let links = Array.from(document.querySelectorAll("a"));
        let menuToggle = document.getElementById("menu-toggle");
        let buttons = Array.from(document.querySelectorAll("button"));

        links.forEach((link) => {
          link.addEventListener("mouseover", () => {
            innerCursor.classList.add("grow");
          });

          link.addEventListener("mouseleave", () => {
            innerCursor.classList.remove("grow");
          });
        });

        buttons.forEach((button) => {
          button.addEventListener("mouseover", () => {
            innerCursor.classList.add("grow");
          });

          button.addEventListener("mouseleave", () => {
            innerCursor.classList.remove("grow");
          });
        });

        if (menuToggle) {
          menuToggle.addEventListener("mouseover", () => {
            innerCursor.classList.add("grow");
          });

          menuToggle.addEventListener("mouseleave", () => {
            innerCursor.classList.remove("grow");
          });
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Hamburger menu functionality
            const menuToggle = document.getElementById('menu-toggle');
            const sideMenu = document.getElementById('side-menu');
            const menuLinks = document.querySelectorAll('#menu_text a');
            
            function toggleMenu() {
                sideMenu.classList.toggle('translate-x-full');
                sideMenu.classList.toggle('translate-x-0');
                
                // Toggle menu icon animation
                const bar1 = document.getElementById('bar1');
                const bar2 = document.getElementById('bar2');
                
                if (sideMenu.classList.contains('translate-x-0')) {
                    // Transform to X
                    document.body.classList.add('menu-open');
                    bar1.style.transform = 'translateY(8px) rotate(45deg)';
                    bar2.style.transform = 'translateY(-8px) rotate(-45deg)';
                } else {
                    // Back to hamburger
                    document.body.classList.remove('menu-open');
                    bar1.style.transform = '';
                    bar2.style.transform = '';
                }
            }

            menuToggle.addEventListener('click', toggleMenu);
            
            // Close menu when clicking any menu link
            menuLinks.forEach(link => {
                link.addEventListener('click', toggleMenu);
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            const medias = document.querySelectorAll('.home__project-media');
            const projects = document.querySelectorAll('.home__project-wrapper');
            const scrollProgress = document.querySelector('.scrollbar__progress');
            const scrollIndexNumber = document.querySelector('.scrollbar__index-number');
            const scrollIndexTitle = document.querySelector('.scrollbar__index-title');
            const scrollIndexYear = document.querySelector('.scrollbar__index-year');
            
            function updateScrollbar() {
                // Calculate scroll progress
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (scrollTop / scrollHeight) * 100;
                scrollProgress.style.height = `${scrolled}%`;

                // Fade out scrollbar when near bottom
                const scrollbar = document.querySelector('.scrollbar');
                const distanceFromBottom = scrollHeight - scrollTop;
                const fadeThreshold = 1000; // pixels from bottom to start fading
                
                if (distanceFromBottom < fadeThreshold) {
                    const opacity = distanceFromBottom / fadeThreshold;
                    scrollbar.style.opacity = opacity;
                } else {
                    scrollbar.style.opacity = '1';
                }
                
                // Update index number based on which project is in view
                projects.forEach((project, index) => {
                    const rect = project.getBoundingClientRect();
                    if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
                        if (scrollIndexNumber.textContent !== String(index + 1)) {
                            scrollIndexNumber.textContent = index + 1;
                            
                            // Add fade out effect to all elements
                            const comma = document.querySelector('.scrollbar__index-comma');
                            scrollIndexNumber.classList.add('fade-out');
                            scrollIndexTitle.classList.add('fade-out');
                            scrollIndexYear.classList.add('fade-out');
                            comma.classList.add('fade-out');
                            
                            // After fade out completes, change text and fade in
                            setTimeout(() => {
                                scrollIndexNumber.textContent = index + 1;
                                scrollIndexTitle.textContent = project.querySelector('.home__project-title').textContent;
                                scrollIndexYear.textContent = project.querySelector('.home__mobile-year').textContent;
                                
                                scrollIndexNumber.classList.remove('fade-out');
                                scrollIndexTitle.classList.remove('fade-out');
                                scrollIndexYear.classList.remove('fade-out');
                                comma.classList.remove('fade-out');
                                scrollIndexNumber.classList.add('fade-in');
                                scrollIndexTitle.classList.add('fade-in');
                                scrollIndexYear.classList.add('fade-in');
                                comma.classList.add('fade-in');
                                
                                // Remove fade-in class after animation completes
                                setTimeout(() => {
                                    scrollIndexNumber.classList.remove('fade-in');
                                    scrollIndexTitle.classList.remove('fade-in');
                                    scrollIndexYear.classList.remove('fade-in');
                                    separator.classList.remove('fade-in');
                                    comma.classList.remove('fade-in');
                                }, 300);
                            }, 300);
                        }
                    }
                });
            }
            
            // Initial call
            updateScrollbar();
            
            // Update on scroll
            window.addEventListener('scroll', updateScrollbar);

        function updateEffects() {
            const centerY = window.innerHeight / 2;
            const tolerance = window.innerHeight * 0.1; // 10% threshold (buffer zone)

            medias.forEach(media => {
                const rect = media.getBoundingClientRect();
                const elementCenter = rect.top + rect.height / 2;
                const distance = Math.abs(centerY - elementCenter);

                if (distance <= tolerance) {
                    // Inside clear zone: no blur, no scale
                    media.style.filter = 'blur(0px)';
                    media.style.transform = 'scale(1)';
                } else {
                    // Outside clear zone: apply based on how far beyond the threshold
                    const maxDistance = centerY - tolerance;
                    const normalized = Math.min((distance - tolerance) / maxDistance, 1);

                    const blur = 40 * normalized;              // Max 40px blur
                    const scale = 1 - 0.7 * normalized;         // Down to 0.4 scale

                    media.style.filter = `blur(${blur}px)`;
                    media.style.transform = `scale(${scale})`;
                }
            });
        }
            // Initial run
            updateEffects();

            // Update on scroll and resize
            window.addEventListener('scroll', updateEffects);
            window.addEventListener('resize', updateEffects);
        });
        document.addEventListener('DOMContentLoaded', function () {
            const navHamburger = document.getElementById('nav-hamburger');
            const mobileNavMenu = document.getElementById('mobile-nav-menu');
            const bars = document.querySelectorAll('#nav-hamburger span');

            navHamburger.addEventListener('click', () => {
                mobileNavMenu.classList.toggle('hidden');
                mobileNavMenu.classList.toggle('scale-y-0');
                mobileNavMenu.classList.toggle('opacity-0');
                
                // Hamburger to X animation
                if (mobileNavMenu.classList.contains('hidden')) {
                    bars[0].style.transform = '';
                    bars[1].style.opacity = '1';
                    bars[2].style.transform = '';
                } else {
                    bars[0].style.transform = 'translateY(8px) rotate(45deg)';
                    bars[1].style.opacity = '0';
                    bars[2].style.transform = 'translateY(-8px) rotate(-45deg)';
                }
            });
        });
        document.addEventListener('DOMContentLoaded', () => {
        const content = document.querySelector('.contentBody');
        if (content) content.classList.add('loaded');

        const links = document.querySelectorAll('a');

        links.forEach(link => {
            if (
            link.hostname === window.location.hostname &&
            link.getAttribute('target') !== '_blank' &&
            !link.href.startsWith('#')
            ) {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const url = this.href;

                if (content) {
                content.classList.remove('loaded');
                content.classList.add('fade-out');
                setTimeout(() => {
                    window.location.href = url;
                }, 600); // matches the blur-out duration
                } else {
                window.location.href = url; // fallback
                }
            });
            }
        });
        });
        document.addEventListener('DOMContentLoaded', () => {
        const svgLink = document.querySelector('a.fixed.top-20.left-4.z-50');
        const mainLine = document.getElementById('mainLine');

        let animationFrame;
        let currentX1 = 24;
        const duration = 300; // ms

        function animateX1(toValue) {
            const fromValue = currentX1;
            const startTime = performance.now();

            function update(time) {
                const elapsed = time - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const eased = easeInOutQuad(progress);
                const newValue = fromValue + (toValue - fromValue) * eased;

                mainLine.setAttribute('x1', newValue.toFixed(2));
                currentX1 = newValue;

                if (progress < 1) {
                    animationFrame = requestAnimationFrame(update);
                }
            }

            cancelAnimationFrame(animationFrame);
            animationFrame = requestAnimationFrame(update);
        }

        function easeInOutQuad(t) {
            return t < 0.5
                ? 2 * t * t
                : -1 + (4 - 2 * t) * t;
        }

        svgLink.addEventListener('mouseenter', () => animateX1(40));
        svgLink.addEventListener('mouseleave', () => animateX1(24));
    });
    </script>
</body>
</html>